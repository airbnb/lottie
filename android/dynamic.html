
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Dynamic Properties (WIP) Â· Lottie</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.2">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-prism/prism.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-collapsible-chapters/collapsible-chapters.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-anchors/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="images.html" />
    
    
    <link rel="prev" href="caching.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="android.html">
            
                <a href="android.html">
            
                    
                    Android
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="android.html">
            
                <a href="android.html#getting-started">
            
                    
                    Getting Started
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="android.html">
            
                <a href="android.html#sample-app">
            
                    
                    Sample App
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="caching.html">
            
                <a href="caching.html">
            
                    
                    Caching and Preloading
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.2.4" data-path="dynamic.html">
            
                <a href="dynamic.html">
            
                    
                    Dynamic Properties (WIP)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5" data-path="images.html">
            
                <a href="images.html">
            
                    
                    Images
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.6" data-path="performance.html">
            
                <a href="performance.html">
            
                    
                    Performance
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.7" data-path="avd.html">
            
                <a href="avd.html">
            
                    
                    Lottie vs AVD
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.8" data-path="apk-size.html">
            
                <a href="apk-size.html">
            
                    
                    APK size
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.9" data-path="troubleshooting.html">
            
                <a href="troubleshooting.html">
            
                    
                    Troubleshooting
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.10" data-path="contributing.html">
            
                <a href="contributing.html">
            
                    
                    Contributing
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../ios.html">
            
                <a href="../ios.html">
            
                    
                    iOS/MacOS
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" >
            
                <span>
            
                    
                    Docs
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1.1" data-path="../ios.html">
            
                <a href="../ios.html#getting-started-on-ios-or-macos">
            
                    
                    Getting Started
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.2" data-path="../ios.html">
            
                <a href="../ios.html#installing-lottie">
            
                    
                    Installing Lottie
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.3" data-path="../ios.html">
            
                <a href="../ios.html#ios-sample-app">
            
                    
                    iOS Sample App
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.4" data-path="../ios.html">
            
                <a href="../ios.html#macos-sample-app">
            
                    
                    MacOS Sample App
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.5" data-path="../ios.html">
            
                <a href="../ios.html#objective-c-examples">
            
                    
                    Objective C Examples
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.6" data-path="../ios.html">
            
                <a href="../ios.html#swift-examples">
            
                    
                    Swift Examples
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.7" data-path="../ios/view-controllers.html">
            
                <a href="../ios/view-controllers.html">
            
                    
                    View Controller Transitions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.8" data-path="../ios/dynamic.html">
            
                <a href="../ios/dynamic.html">
            
                    
                    Dynamic Properties
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.9" data-path="../ios/addsubviews.html">
            
                <a href="../ios/addsubviews.html">
            
                    
                    Adding Views to Animation at Runtime
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.2" >
            
                <span>
            
                    
                    Tutorials
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.2.1" data-path="../ios/dynamic_properties.html">
            
                <a href="../ios/dynamic_properties.html">
            
                    
                    Building a Dynamic Progress Loader
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.3" >
            
                <span>
            
                    
                    Troubleshooting
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.3.1" data-path="../ios/performance.html">
            
                <a href="../ios/performance.html">
            
                    
                    Performance
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3.2" data-path="../ios/troubleshooting.html">
            
                <a href="../ios/troubleshooting.html">
            
                    
                    Troubleshooting
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../react-native/react-native.html">
            
                <a href="../react-native/react-native.html">
            
                    
                    React Native
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../react-native/react-native.html">
            
                <a href="../react-native/react-native.html#getting-started">
            
                    
                    Getting Started
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../react-native/sample-app.html">
            
                <a href="../react-native/sample-app.html">
            
                    
                    Sample App
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../react-native/props.html">
            
                <a href="../react-native/props.html">
            
                    
                    Props
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="../web/troubleshooting.html">
            
                <a href="../web/troubleshooting.html">
            
                    
                    Troubleshooting
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../web/web.html">
            
                <a href="../web/web.html">
            
                    
                    Web
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../web/getting-started.html">
            
                <a href="../web/getting-started.html">
            
                    
                    Getting started
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" >
            
                <a target="_blank" href="https://www.youtube.com/watch?v=5XMUJdjI0L8">
            
                    
                    Video tutorial
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="../web/previewing.html">
            
                <a href="../web/previewing.html">
            
                    
                    Previewing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4" data-path="../web/expressions.html">
            
                <a href="../web/expressions.html">
            
                    
                    Expressions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5" data-path="../after-effects/troubleshooting.html">
            
                <a href="../after-effects/troubleshooting.html">
            
                    
                    Troubleshooting
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../after-effects/getting-started.html">
            
                <a href="../after-effects/getting-started.html">
            
                    
                    After Effects
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../after-effects/getting-started.html">
            
                <a href="../after-effects/getting-started.html">
            
                    
                    Getting started
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="../after-effects/bodymovin-installation.html">
            
                <a href="../after-effects/bodymovin-installation.html">
            
                    
                    Install Bodymovin Plugin
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.2.1" data-path="../after-effects/bodymovin-settings.html">
            
                <a href="../after-effects/bodymovin-settings.html">
            
                    
                    Bodymovin settings
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="../after-effects/general-tips.html">
            
                <a href="../after-effects/general-tips.html">
            
                    
                    General tips & guidelines
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4" data-path="../after-effects/artwork-to-lottie-walkthrough.html">
            
                <a href="../after-effects/artwork-to-lottie-walkthrough.html">
            
                    
                    Sketch/SVG/Illustrator to Lottie walkthrough
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.5" data-path="../after-effects/illustrator-to-lottie-walkthrough.html">
            
                <a href="../after-effects/illustrator-to-lottie-walkthrough.html">
            
                    
                    Advanced Illustrtor to Lottie walkthrough
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.6" data-path="../after-effects/troubleshooting.html">
            
                <a href="../after-effects/troubleshooting.html">
            
                    
                    Troubleshooting
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../supported-features.html">
            
                <a href="../supported-features.html">
            
                    
                    Supported After Effects Features
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="../other-platforms.html">
            
                <a href="../other-platforms.html">
            
                    
                    Other Platforms
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" >
            
                <span>
            
                    
                    Mobile
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1.1" >
            
                <a target="_blank" href="https: //github.com/martijn00/LottieXamarin">
            
                    
                    Xamarin
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.1.2" >
            
                <a target="_blank" href="https://github.com/bradmartin/nativescript-lottie">
            
                    
                    NativeScript
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.1.3" >
            
                <a target="_blank" href="https://github.com/m1ga/ti.animation">
            
                    
                    Titanium
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.1.4" >
            
                <a target="_blank" href="https://github.com/azchohfi/LottieUWP">
            
                    
                    Windows (UWP)
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8.2" >
            
                <span>
            
                    
                    Web Frameworks
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.2.1" >
            
                <a target="_blank" href="https://github.com/chenqingspring/react-lottie">
            
                    
                    React
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2.2" >
            
                <a target="_blank" href="https://github.com/chenqingspring/vue-lottie">
            
                    
                    Vue
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2.3" >
            
                <a target="_blank" href="https://github.com/chenqingspring/ng-lottie">
            
                    
                    Angular
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="../troubleshooting.html">
            
                <a href="../troubleshooting.html">
            
                    
                    Troubleshooting
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="../community-showcase.html">
            
                <a href="../community-showcase.html">
            
                    
                    Community Showcase
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Dynamic Properties (WIP)</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
                                <section class="normal markdown-section">
                                
                                <h1 id="updating-properties-dynamically"><a name="updating-properties-dynamically" class="plugin-anchor" href="#updating-properties-dynamically"><i class="fa fa-link" aria-hidden="true"></i></a>Updating Properties Dynamically</h1>
<p>With Lottie 2.5.0+, you can update properties dynamically at runtime. This can be used for a variety of purposes such as:</p>
<ul>
<li>Theming (day and night or arbitrary themes).</li>
<li>Responding to events such as an error or a success.</li>
<li>Animating a single part of an animation in response to an event.</li>
<li>Responding to view sizes or other values not known at design time.</li>
</ul>
<h2 id="understanding-after-effects"><a name="understanding-after-effects" class="plugin-anchor" href="#understanding-after-effects"><i class="fa fa-link" aria-hidden="true"></i></a>Understanding After Effects</h2>
<p>To understand how to change animation properties in Lottie, you should first understand how animation properties are stored in Lottie.
Animation properties are stored in a data tree that mimics the information heirarchy of After Effects. In After Effects a <code class="language-">Composition</code> is a collection of <code class="language-">Layers</code> that each have their own timelines. <code class="language-">Layer</code> objects have string names, and their contents can be an image, shape layers, fills, strokes, or just about anything that is drawable. Each object in After Effects has a name. Lottie can find these objects and properties by their name using a <code class="language-">KeyPath</code>.</p>
<h2 id="usage"><a name="usage" class="plugin-anchor" href="#usage"><i class="fa fa-link" aria-hidden="true"></i></a>Usage</h2>
<p>To update a property at runtime, you need 3 things:</p>
<ol>
<li>KeyPath</li>
<li>LottieProperty</li>
<li>LottieValueCallback</li>
</ol>
<h3 id="keypath"><a name="keypath" class="plugin-anchor" href="#keypath"><i class="fa fa-link" aria-hidden="true"></i></a>KeyPath</h3>
<p>A KeyPath is used to target a specific content or a set of contents that will be updated. A KeyPath is specified by a list of strings that correspond to the hierarchy of After Effects contents in the original animation.</p>
<p>KeyPaths can include the specific name of the contents or wildcards:</p>
<h3 id="wildcard-"><a name="wildcard-" class="plugin-anchor" href="#wildcard-"><i class="fa fa-link" aria-hidden="true"></i></a>Wildcard <code class="language-">*</code></h3>
<p>Wildcards match any single content name in its position in the keypath.</p>
<h3 id="globstar-"><a name="globstar-" class="plugin-anchor" href="#globstar-"><i class="fa fa-link" aria-hidden="true"></i></a>Globstar <code class="language-">**</code></h3>
<p>Globstars match zero or more layers.</p>
<h3 id="keypath-resolution"><a name="keypath-resolution" class="plugin-anchor" href="#keypath-resolution"><i class="fa fa-link" aria-hidden="true"></i></a>KeyPath resolution</h3>
<p>KeyPaths have the ability to store an internal reference to the content that they resolve to. When you create a new KeyPath object, it will be unresolved. LottieDrawable and LottieAnimationView has a <code class="language-">resolveKeyPath()</code> method that takes a KeyPath and returns a list of zero or more resolved KeyPaths that each resolve to a single piece of content and are internally resolved. This can be used to discover the structure of your animation if you don&apos;t know it. To do so, in a development environment, resolve <code class="language-">new KeyPath(&quot;**&quot;)</code> and log the returned list. However, you shouldn&apos;t use <code class="language-">**</code> by itself with a ValueCallback because it will be applied to every single piece of content in your animation. If you resolve your KeyPaths and want to subsequently add a value callback, use the KeyPaths returned from that method because they will be internally resolved and won&apos;t have to do a tree walk to find the content agian.</p>
<p>See the documentation for <code class="language-">KeyPath</code> for more information.</p>
<h3 id="property"><a name="property" class="plugin-anchor" href="#property"><i class="fa fa-link" aria-hidden="true"></i></a>Property</h3>
<p>LottieProperty is an enumeration of properties that can be set. They correspond to the animatable value in After Effects and the available properties are listed above and in the documentation for <code class="language-">LottieProperty</code></p>
<h3 id="valuecallback"><a name="valuecallback" class="plugin-anchor" href="#valuecallback"><i class="fa fa-link" aria-hidden="true"></i></a>ValueCallback</h3>
<p>The ValueCallback is what gets called every time the animation is rendered. The callback provides:</p>
<ol>
<li>Start frame of the current keyframe.</li>
<li>End frame of the current keyframe.</li>
<li>Start value of the current keyframe.</li>
<li>End value of the current keyframe.</li>
<li>Progress from 0 to 1 in the current keyframe without any time interpolation.</li>
<li>Progress in the current keyframe with the keyframe&apos;s interpolator applied.</li>
<li>Progress in the overall animation from 0 to 1.</li>
</ol>
<p>There are also some helper <code class="language-">ValueCallback</code> subclasses such as <code class="language-">LottieStaticValueCallback</code> that takes a single value of the correct type in its constructor and will always return that. Think of it as a fire and forget value. There is also a relative value callback that offsets the real animation value by a specified amount.</p>
<h2 id="usage"><a name="usage" class="plugin-anchor" href="#usage"><i class="fa fa-link" aria-hidden="true"></i></a>Usage</h2>
<pre class="language-"><code class="lang-java language-">  animationView<span class="token punctuation">.</span><span class="token function">addValueCallback</span><span class="token punctuation">(</span>
      <span class="token keyword">new</span> <span class="token class-name">KeyPath</span><span class="token punctuation">(</span><span class="token string">&quot;Shape Layer&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Rectangle&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Fill&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      LottieProperty<span class="token punctuation">.</span>COLOR_FILTER<span class="token punctuation">,</span>
      <span class="token keyword">new</span> <span class="token class-name">LottieStaticValueCallback</span><span class="token operator">&lt;</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>Color<span class="token punctuation">.</span>RED<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<pre class="language-"><code class="lang-java language-">animationView<span class="token punctuation">.</span><span class="token function">addValueCallback</span><span class="token punctuation">(</span>
    <span class="token keyword">new</span> <span class="token class-name">KeyPath</span><span class="token punctuation">(</span><span class="token string">&quot;Shape Layer&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Rectangle&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Fill&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    LottieProperty<span class="token punctuation">.</span>COLOR_FILTER<span class="token punctuation">,</span>
    <span class="token punctuation">(</span>frameInfo<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> overallProgress <span class="token operator">&lt;</span> <span class="token number">0.5</span> <span class="token operator">?</span> Color<span class="token punctuation">.</span>GREEN <span class="token operator">:</span> Color<span class="token punctuation">.</span>RED<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>or Kotlin</p>
<pre class="language-"><code class="lang-kotlin language-">  animationView<span class="token punctuation">.</span><span class="token function">addValueCallback</span><span class="token punctuation">(</span>
      <span class="token function">KeyPath</span><span class="token punctuation">(</span><span class="token string">&quot;Shape Layer&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Rectangle&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Fill&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      LottieProperty<span class="token punctuation">.</span>COLOR_FILTER<span class="token punctuation">)</span> <span class="token punctuation">{</span> Color<span class="token punctuation">.</span>RED <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<pre class="language-"><code class="lang-kotlin language-">animationView<span class="token punctuation">.</span><span class="token function">addValueCallback</span><span class="token punctuation">(</span>
    <span class="token function">KeyPath</span><span class="token punctuation">(</span><span class="token string">&quot;Shape Layer&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Rectangle&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Fill&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    LottieProperty<span class="token punctuation">.</span>COLOR_FILTER<span class="token punctuation">)</span> <span class="token punctuation">{</span> frameInfo <span class="token operator">-&gt;</span> frameInfo<span class="token punctuation">.</span>overallProgress <span class="token operator">&lt;</span> <span class="token number">0.5</span> <span class="token operator">?</span> Color<span class="token punctuation">.</span>GREEN <span class="token operator">:</span> Color<span class="token punctuation">.</span>RED <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h2 id="animatable-properties"><a name="animatable-properties" class="plugin-anchor" href="#animatable-properties"><i class="fa fa-link" aria-hidden="true"></i></a>Animatable Properties</h2>
<p>The following value can be modified:</p>
<h3 id="transform"><a name="transform" class="plugin-anchor" href="#transform"><i class="fa fa-link" aria-hidden="true"></i></a>Transform:</h3>
<ul>
<li><code class="language-">TRANSFORM_ANCHOR_POINT</code></li>
<li><code class="language-">TRANSFORM_POSITION</code></li>
<li><code class="language-">TRANSFORM_OPACITY</code></li>
<li><code class="language-">TRANSFORM_SCALE</code></li>
<li><code class="language-">TRANSFORM_ROTATION</code></li>
</ul>
<h3 id="fill"><a name="fill" class="plugin-anchor" href="#fill"><i class="fa fa-link" aria-hidden="true"></i></a>Fill:</h3>
<ul>
<li><code class="language-">COLOR</code> (non-gradient)</li>
<li><code class="language-">OPACITY</code></li>
<li><code class="language-">COLOR_FILTER</code></li>
</ul>
<h3 id="stroke"><a name="stroke" class="plugin-anchor" href="#stroke"><i class="fa fa-link" aria-hidden="true"></i></a>Stroke:</h3>
<ul>
<li><code class="language-">COLOR (non-gradient)</code></li>
<li><code class="language-">STROKE_WIDTH</code></li>
<li><code class="language-">OPACITY</code></li>
<li><code class="language-">COLOR_FILTER</code></li>
</ul>
<h3 id="ellipse"><a name="ellipse" class="plugin-anchor" href="#ellipse"><i class="fa fa-link" aria-hidden="true"></i></a>Ellipse:</h3>
<ul>
<li><code class="language-">POSITION</code></li>
<li><code class="language-">ELLIPSE_SIZE</code></li>
</ul>
<h3 id="polystar"><a name="polystar" class="plugin-anchor" href="#polystar"><i class="fa fa-link" aria-hidden="true"></i></a>Polystar:</h3>
<ul>
<li><code class="language-">POLYSTAR_POINTS</code></li>
<li><code class="language-">POLYSTAR_ROTATION</code></li>
<li><code class="language-">POSITION</code></li>
<li><code class="language-">POLYSTAR_OUTER_RADIUS</code></li>
<li><code class="language-">POLYSTAR_OUTER_ROUNDEDNESS</code></li>
<li><code class="language-">POLYSTAR_INNER_RADIUS</code> (star)</li>
<li><code class="language-">POLYSTAR_INNER_ROUNDEDNESS</code> (star)</li>
</ul>
<h3 id="repeater"><a name="repeater" class="plugin-anchor" href="#repeater"><i class="fa fa-link" aria-hidden="true"></i></a>Repeater:</h3>
<ul>
<li>All transform properties</li>
<li><code class="language-">REPEATER_COPIES</code></li>
<li><code class="language-">REPEATER_OFFSET</code></li>
<li><code class="language-">TRANSFORM_ROTATION</code></li>
<li><code class="language-">TRANSFORM_START_OPACITY</code></li>
<li><code class="language-">TRANSFORM_END_OPACITY</code></li>
</ul>
<h3 id="layers"><a name="layers" class="plugin-anchor" href="#layers"><i class="fa fa-link" aria-hidden="true"></i></a>Layers:</h3>
<ul>
<li>All transform properties</li>
<li><code class="language-">TIME_REMAP</code> (composition layers only)</li>
</ul>
<h2 id="notable-properties"><a name="notable-properties" class="plugin-anchor" href="#notable-properties"><i class="fa fa-link" aria-hidden="true"></i></a>Notable Properties</h2>
<h3 id="time-remapping"><a name="time-remapping" class="plugin-anchor" href="#time-remapping"><i class="fa fa-link" aria-hidden="true"></i></a>Time Remapping</h3>
<p>Compositions and precomps (composition layers) have an a time remap proprty. If you set a value callback for time remapping, you control the progress of a specific layer. To do so, return the desired time value in seconds from your value callback.</p>
<h3 id="color-filters"><a name="color-filters" class="plugin-anchor" href="#color-filters"><i class="fa fa-link" aria-hidden="true"></i></a>Color Filters</h3>
<p>The only animatable property that doesn&apos;t map 1:1 to an After Effects property is the color filter property you can set on fill content. This can be used to set blend modes on layers. It will only apply to the color of that fill, not any overlapping content.</p>
<h2 id="migrating-from-the-old-addcolorfilter-api"><a name="migrating-from-the-old-addcolorfilter-api" class="plugin-anchor" href="#migrating-from-the-old-addcolorfilter-api"><i class="fa fa-link" aria-hidden="true"></i></a>Migrating from the old <code class="language-">addColorFilter</code> API</h2>
<p>If you were using the old API to dynamically change a color, you will need to migrate to the new one. To do so upgrade your code as follows:</p>
<pre class="language-"><code class="lang-java language-">animationView<span class="token punctuation">.</span><span class="token function">addColorFilter</span><span class="token punctuation">(</span>colorFilter<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>becomes</p>
<pre class="language-"><code class="lang-java language-">animationView<span class="token punctuation">.</span><span class="token function">addValueCallback</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">KeyPath</span><span class="token punctuation">(</span><span class="token string">&quot;**&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> LottieProperty<span class="token punctuation">.</span>COLOR_FILTER<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">LottieValueCallback</span><span class="token punctuation">(</span>colorFilter<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<hr>
<pre class="language-"><code class="lang-java language-">animationView<span class="token punctuation">.</span><span class="token function">addColorFilterToLayer</span><span class="token punctuation">(</span><span class="token string">&quot;hello_layer&quot;</span><span class="token punctuation">,</span> colorFilter<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>becomes</p>
<pre class="language-"><code class="lang-java language-">animationView<span class="token punctuation">.</span><span class="token function">addValueCallback</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">KeyPath</span><span class="token punctuation">(</span><span class="token string">&quot;hello_layer&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;**&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> LottieProperty<span class="token punctuation">.</span>COLOR_FILTER<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">LottieValueCallback</span><span class="token punctuation">(</span>colorFilter<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<hr>
<pre class="language-"><code class="lang-java language-">animationView<span class="token punctuation">.</span><span class="token function">addColorFilterToContent</span><span class="token punctuation">(</span><span class="token string">&quot;hello_layer&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">,</span> colorFilter<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>becomes</p>
<pre class="language-"><code class="lang-java language-">
animationView<span class="token punctuation">.</span><span class="token function">addValueCallback</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">KeyPath</span><span class="token punctuation">(</span><span class="token string">&quot;hello_layer&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;**&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> LottieProperty<span class="token punctuation">.</span>COLOR_FILTER<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">LottieValueCallback</span><span class="token punctuation">(</span>colorFilter<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<hr>
<pre class="language-"><code class="lang-java language-">animationView<span class="token punctuation">.</span><span class="token function">clearColorFilters</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>becomes</p>
<pre class="language-"><code class="lang-java language-">animationView<span class="token punctuation">.</span><span class="token function">addValueCallback</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">KeyPath</span><span class="token punctuation">(</span><span class="token string">&quot;**&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> LottieProperty<span class="token punctuation">.</span>COLOR_FILTER<span class="token punctuation">,</span> null<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>

                                
                                </section>
                            
                        </div>
                    </div>
                
            </div>

            
                
                <a href="caching.html" class="navigation navigation-prev " aria-label="Previous page: Caching and Preloading">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="images.html" class="navigation navigation-next " aria-label="Next page: Images">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Dynamic Properties (WIP)","level":"1.2.4","depth":2,"next":{"title":"Images","level":"1.2.5","depth":2,"path":"android/images.md","ref":"android/images.md","articles":[]},"previous":{"title":"Caching and Preloading","level":"1.2.3","depth":2,"path":"android/caching.md","ref":"android/caching.md","articles":[]},"dir":"ltr"},"config":{"plugins":["edit-link","prism@2.0.0","-highlight","github","-search","codeblock-disable-glossary","collapsible-chapters","anchors"],"root":"./docs","styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"prism":{},"github":{"url":"https://github.com/airbnb/lottie/"},"collapsible-chapters":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"codeblock-disable-glossary":{},"fontsettings":{"theme":"white","family":"sans","size":2},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"edit-link":{"label":"Edit This Page","base":"https://github.com/airbnb/lottie"},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false},"anchors":{}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{"androidVersion":"2.2.5","iosVersion":"2.1.3","reactNativeVersion":"2.2.7"},"title":"Lottie","gitbook":"3.2.2","description":"After Effects Animations for Android, iOS, React Native, and Web"},"file":{"path":"android/dynamic.md","mtime":"2018-02-01T03:58:07.662Z","type":"markdown"},"gitbook":{"version":"3.2.2","time":"2018-02-01T03:58:49.724Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-edit-link/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-github/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-codeblock-disable-glossary/disable-glossary.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-collapsible-chapters/collapsible-chapters.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

